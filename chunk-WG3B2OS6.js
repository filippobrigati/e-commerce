import{a as s}from"./chunk-M6IP3IK3.js";import{l}from"./chunk-ZCVQGBTO.js";import{I as i,L as a,Q as c,i as r}from"./chunk-ESOBYACX.js";var m=class t{http=c(l);tokenSubject=new r(localStorage.getItem("ecommerce-token"));token$=this.tokenSubject.asObservable();login(o,e){return this.http.post(`${s.apiURL}/auth/login`,{username:o,password:e}).pipe(i(n=>{localStorage.setItem("ecommerce-token",n.token),this.tokenSubject.next(n.token)}))}logout(){localStorage.removeItem("ecommerce-token"),this.tokenSubject.next(null)}isLoggedIn(){return!!this.tokenSubject.value}getToken(){return this.tokenSubject.value}static \u0275fac=function(e){return new(e||t)};static \u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"})};export{m as a};
