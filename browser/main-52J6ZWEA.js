import{a as v}from"./chunk-WG3B2OS6.js";import{a as W,b as w,c as S,e as Q,f as g,g as E,h as X}from"./chunk-PUT3JXNL.js";import"./chunk-M6IP3IK3.js";import{a as _}from"./chunk-W777NODM.js";import{f as Y,g as Z,m as J,n as K}from"./chunk-ZCVQGBTO.js";import{b as ee,c as te,f as ie,g as re,h as ne,i as I}from"./chunk-LJVENVG4.js";import{Aa as c,Q as p,Qa as m,Ra as d,Sa as H,Ta as O,Ua as G,V as R,Va as x,W as j,Wa as i,X as P,Xa as n,Y as F,Ya as s,Za as V,ab as q,bb as f,ca as B,da as u,gb as o,hb as b,ib as h,kb as $,lb as z,nb as U,sa as a}from"./chunk-ESOBYACX.js";var oe=(e,r)=>{let t=p(v),l=p(g);return t.isLoggedIn()?!0:(l.navigate(["/login"]),!1)};var ae=[{path:"login",loadComponent:()=>import("./chunk-CCJGSUMV.js").then(e=>e.Login)},{path:"cart",loadComponent:()=>import("./chunk-NAAQIKOD.js").then(e=>e.Cart),canActivate:[oe]},{path:"",pathMatch:"full",loadComponent:()=>import("./chunk-BH7ICQL4.js").then(e=>e.Store)},{path:"details/:id",loadComponent:()=>import("./chunk-B4IY423F.js").then(e=>e.Detail)},{path:"**",redirectTo:""}];var le=(e,r)=>{let l=p(v).getToken();if(l){let N=e.clone({setHeaders:{Authorization:`Bearer ${l}`}});return r(N)}return r(e)};var se={providers:[B(),U(),X(ae),J(K([le]))]};var T=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=c({type:e,selectors:[["app-filter"]],decls:42,vars:0,consts:[[1,"flex","flex-col","gap-3","p-4"],["for","search",1,"block","text-sm/6","font-medium","text-gray-900"],[1,"mt-2"],["type","text","name","search","id","search",1,"block","w-full","bg-white","px-3","py-1.5","text-base","text-gray-900","outline-1","-outline-offset-1","outline-gray-300","placeholder:text-gray-400","focus:outline-2","focus:-outline-offset-2","focus:outline-indigo-600","sm:text-sm/6"],[1,"block","text-sm","font-medium","text-gray-900"],[1,"mt-2","flex","space-x-2"],["type","number","placeholder","Min",1,"w-1/2","px-3","py-1.5","text-sm","outline","outline-1","outline-gray-300","focus:outline-2","focus:outline-indigo-600"],["type","number","placeholder","Max",1,"w-1/2","px-3","py-1.5","text-sm","outline","outline-1","outline-gray-300","focus:outline-2","focus:outline-indigo-600"],["for","rating",1,"block","text-sm/6","font-medium","text-gray-900"],[1,"mt-2","grid","grid-cols-1"],["id","rating","name","rating",1,"col-start-1","row-start-1","w-full","appearance-none","bg-white","py-1.5","pr-8","pl-3","text-base","text-gray-900","outline-1","-outline-offset-1","outline-gray-300","focus:outline-2","focus:-outline-offset-2","focus:outline-indigo-600","sm:text-sm/6"],["viewBox","0 0 16 16","fill","currentColor","aria-hidden","true","data-slot","icon",1,"pointer-events-none","col-start-1","row-start-1","mr-2","size-5","self-center","justify-self-end","text-gray-500","sm:size-4"],["fill-rule","evenodd","d","M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06Z","clip-rule","evenodd"],["for","price-sorting",1,"block","text-sm/6","font-medium","text-gray-900"],["id","price-sorting","name","price-sorting",1,"col-start-1","row-start-1","w-full","appearance-none","bg-white","py-1.5","pr-8","pl-3","text-base","text-gray-900","outline-1","-outline-offset-1","outline-gray-300","focus:outline-2","focus:-outline-offset-2","focus:outline-indigo-600","sm:text-sm/6"],["value",""],["value","asc"],["value","desc"]],template:function(t,l){t&1&&(i(0,"div",0)(1,"div")(2,"label",1),o(3,"Search:"),n(),i(4,"div",2),s(5,"input",3),n()(),i(6,"div")(7,"label",4),o(8,"Price:"),n(),i(9,"div",5),s(10,"input",6)(11,"input",7),n()(),i(12,"div")(13,"label",8),o(14,"Rating:"),n(),i(15,"div",9)(16,"select",10)(17,"option"),o(18,"1"),n(),i(19,"option"),o(20,"2"),n(),i(21,"option"),o(22,"3"),n(),i(23,"option"),o(24,"4"),n(),i(25,"option"),o(26,"5"),n()(),P(),i(27,"svg",11),s(28,"path",12),n()()(),F(),i(29,"div")(30,"label",13),o(31,"Price sorting:"),n(),i(32,"div",9)(33,"select",14)(34,"option",15),o(35,"None"),n(),i(36,"option",16),o(37,"Lowest price first"),n(),i(38,"option",17),o(39,"Highest price first"),n()(),P(),i(40,"svg",11),s(41,"path",12),n()()()())},encapsulation:2})};function pe(e,r){if(e&1&&(i(0,"div",3),s(1,"div",5),i(2,"div",6)(3,"span",7),o(4),n(),i(5,"div",8)(6,"span",9),o(7),i(8,"span"),o(9),n()(),i(10,"span",10),o(11),$(12,"currency"),n()()()()),e&2){let t=r.$implicit,l=f();a(),x("ngClass",t.product.color),a(3),b(t.product.title),a(3),h(" ",t.quantity," "),a(2),b(l.format(t.quantity)),a(2),h(" ",z(12,5,t.quantity*t.product.price)," ")}}function ce(e,r){e&1&&(i(0,"div",4)(1,"span",9),o(2,"Your cart is empty"),n()())}var A=class e{service=p(_);subscription;EmptyIcon=ie;cart=u({amount:0,items:0,products:[]});constructor(){this.subscription=this.service.cart$.subscribe(r=>{this.cart.set(r)})}format(r){return r===1?"item":"items"}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=c({type:e,selectors:[["app-cart-preview"]],decls:7,vars:1,consts:[[1,"h-full","w-full","flex","flex-col"],[1,"border-b","border-gray-200","py-2","px-4","font-semibold"],[1,"flex-1","max-h-custom","overflow-y-auto"],[1,"w-full","flex","flex-row","justify-center","items-center","border-b","border-gray-200","px-4","py-2","gap-3"],[1,"h-custom","w-full","flex","justify-center","items-center"],[1,"w-16","h-16","aspect-square",3,"ngClass"],[1,"flex","flex-col"],[1,"line-clamp-1","font-semibold"],[1,"flex","flex-row","justify-between","items-center"],[1,"italic"],[1,"monospace-text","text-slate-500"]],template:function(t,l){t&1&&(i(0,"div",0)(1,"div",1),o(2," Your cart: "),n(),i(3,"div",2),O(4,pe,13,7,"div",3,H,!1,ce,3,0,"div",4),n()()),t&2&&(a(4),G(l.cart().products))},dependencies:[I,Z,Y],styles:[".max-h-custom[_ngcontent-%COMP%]{max-height:calc(100vh - 5.6rem)}.h-custom[_ngcontent-%COMP%]{height:calc(100vh - 5.6rem)}"]})};function me(e,r){if(e&1){let t=V();i(0,"div",9),s(1,"i-lucide",10),i(2,"span",11),o(3,"Profile"),n()(),i(4,"div",12),q("click",function(){R(t);let N=f();return j(N.logout())}),s(5,"i-lucide",10),n()}if(e&2){let t=f();a(),x("img",t.UserIcon),a(4),x("img",t.LogoutIcon)}}function de(e,r){if(e&1&&(i(0,"button",8),s(1,"i-lucide",10),i(2,"span",11),o(3,"Login"),n()()),e&2){let t=f();a(),x("img",t.LoginIcon)}}var D=class e{service=p(v);UserIcon=re;LogoutIcon=te;LoginIcon=ee;isAuth(){return this.service.isLoggedIn()}logout(){this.service.logout()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=c({type:e,selectors:[["app-card-info"]],decls:14,vars:1,consts:[[1,"flex","flex-col","gap-3","p-4"],[1,"bg-blue-50","p-4"],[1,"flex"],[1,"ml-3","flex-1","md:flex","md:justify-between"],[1,"text-sm","text-blue-700","leading-6"],["href","https://fakestoreapi.com/","target","_blank",1,"underline","underline-offset-2"],["href","https://github.com/filippobrigati/e-commerce","target","_blank",1,"underline","underline-offset-2"],[1,"flex","flex-row","gap-4","justify-center","items-center"],["type","button","routerLink","login",1,"cursor-pointer","w-full","border","border-purple-200","text-purple-800","p-2","flex","flex-row","hover:bg-purple-200"],[1,"cursor-pointer","w-full","border","border-gray-200","p-2","flex","flex-row","hover:bg-gray-200"],[1,"w-5","h-5",3,"img"],[1,"ps-2"],[1,"h-full","cursor-pointer","border","border-red-500","p-2","flex","justify-center","items-center","hover:bg-red-500","text-red-500","hover:text-white",3,"click"]],template:function(t,l){t&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),o(5," This Angular app is just a demo, built on top of "),i(6,"a",5),o(7,"fake store api"),n(),o(8,". You can find the code on "),i(9,"a",6),o(10," GitHub. "),n()()()()(),i(11,"div",7),m(12,me,6,2)(13,de,4,1,"button",8),n()()),t&2&&(a(12),d(l.isAuth()?12:13))},dependencies:[I,ne,E],encapsulation:2})};function ue(e,r){e&1&&s(0,"app-cart-preview")}function fe(e,r){e&1&&s(0,"app-filter")(1,"app-card-info")}var k=class e{router=p(g);currentRoute=u("");constructor(){this.router.events.subscribe(r=>{r instanceof w&&this.currentRoute.set(r.url.split("?")[0]),r instanceof S&&console.error(r.error)})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=c({type:e,selectors:[["app-sidebar"]],decls:3,vars:1,consts:[[1,"sm:w-xs","h-full","flex","flex-col","justify-between","gap-3"]],template:function(t,l){t&1&&(i(0,"div",0),m(1,ue,1,0,"app-cart-preview")(2,fe,2,0),n()),t&2&&(a(),d(l.currentRoute().includes("details")?1:2))},dependencies:[T,A,D],encapsulation:2})};function xe(e,r){if(e&1&&(i(0,"div",2)(1,"span",3),o(2,"Checkout "),i(3,"span",4),o(4),n(),o(5),n()()),e&2){let t=f();a(4),b(t.cart().items),a(),h(" ",t.format())}}var L=class e{service=p(_);cart=u({amount:0,products:[],items:0});constructor(){this.service.cart$.subscribe({next:r=>{this.cart.set(r)}})}format(){return this.cart().items===1?" item":" items"}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=c({type:e,selectors:[["app-topbar"]],decls:4,vars:1,consts:[[1,"w-screen","h-12","border-b","border-gray-200","flex","flex-row","justify-between","items-center","px-4"],[1,"monospace-text","truncate","max-w-[60%]","overflow-hidden","whitespace-nowrap"],["routerLink","cart",1,"cursor-pointer","border","border-dashed","border-pink-300","px-3","py-1","flex","flex-row","hover:bg-pink-300"],[1,"ps-2"],[1,"monospace-text"]],template:function(t,l){t&1&&(i(0,"div",0)(1,"span",1),o(2,"Welcome in this e-commerce demo website!"),n(),m(3,xe,6,2,"div",2),n()),t&2&&(a(3),d(l.cart().items>0?3:-1))},dependencies:[E],encapsulation:2})};function ge(e,r){e&1&&s(0,"app-topbar")}function ve(e,r){e&1&&(i(0,"div",2),s(1,"app-sidebar"),n())}var M=class e{router=p(g);title="e-commerce";currentRoute=u("");constructor(){this.router.events.subscribe(r=>{r instanceof w&&this.currentRoute.set(r.url.split("?")[0]),r instanceof S&&console.error(r.error)})}displayBars(){return!this.currentRoute().includes("login")&&!this.currentRoute().includes("cart")}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=c({type:e,selectors:[["app-root"]],decls:6,vars:2,consts:[[1,"w-full","h-screen","flex","flex-col"],[1,"flex","flex-1","min-h-0"],[1,"hidden","xl:flex","border-r","border-gray-200","h-full"],[1,"flex-1","min-h-0"]],template:function(t,l){t&1&&(i(0,"div",0),m(1,ge,1,0,"app-topbar"),i(2,"div",1),m(3,ve,2,0,"div",2),i(4,"div",3),s(5,"router-outlet"),n()()()),t&2&&(a(),d(l.displayBars()?1:-1),a(2),d(l.displayBars()?3:-1))},dependencies:[Q,k,L],encapsulation:2})};W(M,se).catch(e=>console.error(e));
